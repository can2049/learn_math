## 三维空间的旋转，有哪些表示方法

三维空间的旋转可以通过多种数学表示，每种形式各有其应用场景和优缺点。以下是主要的表示方法及其详细说明：

---

### 1. **旋转矩阵（Rotation Matrix）**
- **表示形式**：3×3 正交矩阵  $R$ （满足  $R^T R = I$ ，行列式  $\det(R) = +1$ ）。
- **特点**：
  - 直接作用于向量时，通过矩阵乘法实现旋转： $\mathbf{v}' = R \mathbf{v}$ 。
  - 可组合多个旋转（按顺序左乘）。
  - 9个参数，但有6个约束（正交性+行列式条件），实际自由度3。
- **示例**（绕  $z$  轴旋转角度  $\theta$ ）：

$$
  R_z(\theta) = \begin{bmatrix}
  \cos\theta & -\sin\theta & 0 \\
  \sin\theta & \cos\theta & 0 \\
  0 & 0 & 1
  \end{bmatrix}
  $$


---

### 2. **欧拉角（Euler Angles）**
- **表示形式**：三个绕特定轴的连续旋转角度（如  $\alpha, \beta, \gamma$ ）。
- **常见约定**：
  - **ZYX顺序**（偏航-俯仰-滚转，Yaw-Pitch-Roll）：绕  $z$ 、然后  $y$ 、最后  $x$  轴旋转。
  - **ZXZ顺序**（常用于天体力学）。
- **特点**：
  - 直观，但存在**万向节死锁**（Gimbal Lock）问题（当中间旋转为90°时丢失一个自由度）。
  - 旋转顺序需明确定义。

---

### 3. **轴-角表示（Axis-Angle）**
- **表示形式**：单位旋转轴  $\mathbf{u} = (u_x, u_y, u_z)$  和旋转角度  $\theta$ 。
- **特点**：
  - 几何意义明确，但非紧凑（需4参数：3维轴+1角度）。
  - 可通过 **罗德里格斯公式（Rodrigues' Formula）** 转换为旋转矩阵：

$$R = I + \sin \theta [\vec{u}]_\times + (1 - \cos \theta) [\vec{u}]_\times^2$$

其中  $[\mathbf{u}]_\times$  是  $\mathbf{u}$  的叉积矩阵。

---

### 4. **四元数（Quaternions）**
- **表示形式**：单位四元数  $\mathbf{q} = (w, x, y, z) = (w, \mathbf{v})$ ，满足  $w^2 + x^2 + y^2 + z^2 = 1$ 。
- **特点**：
  - 无万向节死锁，计算效率高（插值平滑，常用于动画和SLAM）。
  - 旋转公式（对向量  $\mathbf{v}$ ）：

$$
    \mathbf{v}' = \mathbf{q} \mathbf{v} \mathbf{q}^{-1}
    $$

其中  $\mathbf{q}^{-1} = (w, -\mathbf{v})$ 。
  - 与轴-角的关系： $\mathbf{q} = \left(\cos\frac{\theta}{2}, \mathbf{u} \sin\frac{\theta}{2}\right)$ 。

---

### 5. **旋转向量（Rotation Vector）**
- **表示形式**：将轴-角压缩为3维向量  $\mathbf{r} = \theta \mathbf{u}$ （方向为旋转轴，模长为角度）。
- **特点**：
  - 紧凑，但需处理奇点（如  $\theta = 0$ ）。
  - 可通过指数映射与李代数关联。

---

### 6. **李群与李代数（SO(3) & so(3)）**
- **表示形式**：
  - 旋转矩阵属于**特殊正交群  $SO(3)$**。
  - 对应的李代数  $\mathfrak{so}(3)$  是反对称矩阵空间，生成元为叉积矩阵。
- **指数映射**：

$$
  R = \exp(\theta [\mathbf{u}]_\times)
  $$

  用于从旋转向量生成旋转矩阵。

---

### **应用场景对比**
| **表示方法**   | **优点**                          | **缺点**                          | **典型应用**               |
|----------------|-----------------------------------|-----------------------------------|----------------------------|
| 旋转矩阵       | 直接计算，组合方便                | 冗余参数，可能不满足正交性        | 计算机图形学，机器人学     |
| 欧拉角         | 直观易理解                        | 万向节死锁，顺序依赖              | 飞行器姿态控制             |
| 四元数         | 高效插值，无奇点                  | 抽象，需归一化                    | 动画，VR/AR，惯性导航      |
| 轴-角/旋转向量 | 几何直观                          | 非紧凑或需处理奇点                | 物理仿真，优化问题         |

---

### **转换关系**
- **四元数 ↔ 旋转矩阵**：通过公式转换（涉及四元数分量）。
- **欧拉角 ↔ 旋转矩阵**：按顺序乘法（注意旋转轴顺序）。
- **轴-角 ↔ 四元数**：通过  $\mathbf{q} = (\cos\frac{\theta}{2}, \mathbf{u}\sin\frac{\theta}{2})$ 。

---

根据具体需求（如实时性、插值、避免奇点等），可选择最适合的表示方法。例如，游戏引擎常用四元数，而控制系统可能偏好欧拉角。
