### **Convex Set（凸集）与 Convex Function（凸函数）的关系**

#### **1. 定义回顾**
- **Convex Set（凸集）**：
  集合  $C \subseteq \mathbb{R}^n$  是凸集，如果对于任意  $x, y \in C$  和任意  $\theta \in [0,1]$ ，都有：

$$
  \theta x + (1-\theta) y \in C
  $$

  即，连接集合内任意两点的线段仍然完全包含在该集合内。

- **Convex Function（凸函数）**：
  函数  $f: \mathbb{R}^n \to \mathbb{R}$  是凸函数，如果其定义域  $\text{dom}(f)$  是凸集，并且对于任意  $x, y \in \text{dom}(f)$  和  $\theta \in [0,1]$ ，满足 **Jensen不等式**：

$$
  f(\theta x + (1-\theta) y) \leq \theta f(x) + (1-\theta) f(y)
  $$

  即，函数在任意两点连线上的值不超过这两点函数值的线性插值。

---

#### **2. 二者的核心关系**
1. **定义域必须是凸集**
   - 凸函数的定义要求其定义域  $\text{dom}(f)$  必须是凸集。
   - 如果定义域不是凸集，那么函数在某些点上的凸组合可能无定义，导致无法满足 Jensen 不等式。

2. **Epigraph（上境图）是凸集**
   - 给定函数  $f$ ，其 **epigraph（上境图）** 定义为：

$$
     \text{epi}(f) = \{ (x, t) \mid x \in \text{dom}(f), t \geq f(x) \}
     $$

   - **关键定理**：
     **$f$  是凸函数** 当且仅当 **$\text{epi}(f)$  是凸集**。
     ◦ 这意味着凸函数的所有“上方区域”构成一个凸集。

3. **凸函数的水平集（Level Sets）是凸集**
   - 对于凸函数  $f$ ，其 **水平集（Level Set）**：

$$
     \{ x \in \text{dom}(f) \mid f(x) \leq \alpha \}
     $$

     也是凸集（对任意  $\alpha \in \mathbb{R}$ ）。
   - 这个性质在优化中很重要，例如约束优化问题的可行域通常由水平集定义。

---

#### **3. 直观理解**
- **凸集** 描述的是 **空间形状**（如球体、立方体、半空间等），而 **凸函数** 描述的是 **函数的弯曲性质**（如抛物线、线性函数等）。
- **凸函数必须定义在凸集上**，因为如果定义域有“凹陷”，函数在某些凸组合点可能无定义，破坏凸性。
- **Epigraph 是凸集** 意味着凸函数的“上方区域”没有凹陷，这与凸集的“无凹陷”性质一致。

---

#### **4. 应用中的关系**
1. **优化问题（Optimization）**
   - 在 **凸优化（Convex Optimization）** 中，目标函数  $f$  必须是凸函数，约束定义的可行域必须是凸集。
   - 例如，线性规划（LP）的可行域是多面体（凸集），目标函数是线性函数（也是凸函数）。

2. **机器学习（Machine Learning）**
   - 许多损失函数（如平方损失、逻辑损失）是凸函数，确保优化问题有全局最优解。
   - 约束条件（如正则化）通常要求可行域是凸集（如  $\ell_2$  球约束）。

3. **经济学（Economics）**
   - 效用函数和生产函数的凸性假设保证了优化问题（如消费者选择、成本最小化）的解具有良好的性质。

---

#### **5. 总结**
| **概念**       | **定义** | **与对方的关系** |
|--------------|--------|--------------|
| **Convex Set** | 任意两点连线仍在集合内 | 凸函数的定义域必须是凸集 |
| **Convex Function** | 满足 Jensen 不等式 | 其上境图（epigraph）是凸集 |

**核心关系**：
1. 凸函数的定义域必须是凸集。
2. 凸函数的上境图（epigraph）是凸集。
3. 凸函数的水平集（level sets）是凸集。

因此，**凸集是凸函数的基础**，而 **凸函数的研究依赖于凸集的性质**。二者共同构成了 **凸优化理论** 的核心框架。